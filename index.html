<!DOCTYPE html>
<html>
<head>
  <title>Document Generator</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    body {
      font-family: Arial;
      padding: 20px;
      background: #f4f4f4;
    }

    .invoice-box {
      width: 800px;
      background: white;
      padding: 30px;
      margin-bottom: 20px;
      border: 1px solid #ddd;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table, th, td {
      border: 1px solid #ccc;
    }

    th, td {
      padding: 8px;
      text-align: center;
    }

    .right {
      text-align: right;
    }

    button {
      padding: 10px 15px;
      margin-right: 10px;
      cursor: pointer;
      background: black;
      color: white;
      border: none;
    }
  </style>
</head>

<body>

<h2>Select Document Type</h2>

<button onclick="generateDoc('PROFORMA INVOICE','PI')">Download PI</button>
<button onclick="generateDoc('PURCHASE ORDER','PO')">Download PO</button>
<button onclick="generateDoc('QUOTATION','QT')">Download Quotation</button>

<br><br>

<div id="invoice" class="invoice-box">
  <h1 id="docTitle">PROFORMA INVOICE</h1>

  <p><strong>Company:</strong> Axelion Group Pvt Ltd</p>
  <p><strong>Customer:</strong> John Enterprises</p>
  <p><strong>Date:</strong> 12-02-2026</p>
  <p><strong>Document No:</strong> <span id="docNo">PI-001</span></p>

  <table>
    <tr>
      <th>#</th>
      <th>Description</th>
      <th>Qty</th>
      <th>Price</th>
      <th>Total</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Sports Shoes</td>
      <td>10</td>
      <td>2000</td>
      <td>20000</td>
    </tr>
    <tr>
      <td colspan="4" class="right"><strong>Grand Total</strong></td>
      <td><strong>20000</strong></td>
    </tr>
  </table>
</div>

<script>

async function generateDoc(title, prefix) {

  document.getElementById("docTitle").innerText = title;

  const randomNo = Math.floor(Math.random() * 1000);
  document.getElementById("docNo").innerText = prefix + "-" + randomNo;

  const { jsPDF } = window.jspdf;
  const element = document.getElementById("invoice");

  const canvas = await html2canvas(element);
  const imgData = canvas.toDataURL("image/png");

  const pdf = new jsPDF('p', 'mm', 'a4');

  const imgWidth = 190;
  const pageHeight = 295;
  const imgHeight = canvas.height * imgWidth / canvas.width;

  pdf.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);

  pdf.save(prefix + "_" + randomNo + ".pdf");
}

</script>

</body>
</html>
